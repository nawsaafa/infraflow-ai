# ============================================================================
# InfraFlow AI - Environment Variables Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control!
# ============================================================================

# ============================================================================
# DOCKER & DEPLOYMENT CONFIGURATION
# ============================================================================
BUILD_TARGET=development                    # development | production
ENVIRONMENT=development                     # development | staging | production
NODE_ENV=development                        # development | production
LOG_LEVEL=info                             # debug | info | warn | error

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL
POSTGRES_PASSWORD=infraflow_dev_password_change_me
DATABASE_URL=postgresql://infraflow_user:infraflow_dev_password_change_me@postgres:5432/infraflow_db

# For local development (outside Docker)
LOCAL_DATABASE_URL=postgresql://infraflow_user:infraflow_dev_password_change_me@localhost:5432/infraflow_db

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_PASSWORD=infraflow_redis_password_change_me
REDIS_URL=redis://:infraflow_redis_password_change_me@redis:6379/0

# Queue-specific Redis configuration
QUEUE_BULL_REDIS_HOST=redis
QUEUE_BULL_REDIS_PORT=6379

# For local development (outside Docker)
LOCAL_REDIS_URL=redis://:infraflow_redis_password_change_me@localhost:6379/0

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_PUBLIC_ANON=your_supabase_anon_key_here
SUPABASE_SERVICE_KEY=your_supabase_service_role_key_here
SUPABASE_DB_PASSWORD=your_supabase_db_password_here

# Next.js Public Variables (exposed to browser)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# ============================================================================
# AI/ML SERVICE API KEYS
# ============================================================================
# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Cohere
COHERE_API_KEY=your-cohere-key-here

# Azure Document Intelligence (OCR)
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=https://your-resource.cognitiveservices.azure.com/
AZURE_DOCUMENT_INTELLIGENCE_KEY=your-azure-di-key-here

# ============================================================================
# VECTOR DATABASE CONFIGURATION
# ============================================================================
# Pinecone
PINECONE_API_KEY=your-pinecone-api-key-here
PINECONE_ENVIRONMENT=your-environment                # e.g., us-east1-gcp
PINECONE_INDEX_NAME=infraflow-documents

# Weaviate (if using instead of Pinecone)
WEAVIATE_URL=http://weaviate:8080
WEAVIATE_API_KEY=your-weaviate-api-key-here

# ============================================================================
# FILE STORAGE CONFIGURATION
# ============================================================================
# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=infraflow-documents
AWS_REGION=us-east-1

# Cloudflare R2 (S3-compatible alternative)
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id
CLOUDFLARE_R2_ACCESS_KEY=your-r2-access-key-id
CLOUDFLARE_R2_SECRET_KEY=your-r2-secret-access-key
CLOUDFLARE_R2_BUCKET=infraflow-documents

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-key-here-use-openssl-rand-hex-32

# Rate Limiting Secret
RATE_LIMIT_SECRET=your-rate-limit-secret-here

# Webhook Secret (for n8n and other integrations)
WEBHOOK_SECRET=your-webhook-secret-here

# Encryption Keys
DB_ENCRYPTION_KEY=your-db-encryption-key-here
N8N_ENCRYPTION_KEY=your-n8n-encryption-key-here

# ============================================================================
# API & CORS CONFIGURATION
# ============================================================================
# Backend API URL
NEXT_PUBLIC_API_URL=http://localhost:8000

# CORS Origins (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:3000,https://infraflow-ai.vercel.app

# API Configuration
API_VERSION=v1
MAX_UPLOAD_SIZE=100                        # Max upload size in MB
WEBHOOK_TIMEOUT=30000                      # Webhook timeout in ms
MAX_REQUEST_SIZE=10mb
RATE_LIMIT_WINDOW=900000                   # 15 minutes in ms
RATE_LIMIT_MAX=100                         # Max requests per window

# ============================================================================
# AUTOMATION & INTEGRATION
# ============================================================================
# n8n Workflow Automation
N8N_API_URL=http://localhost:5678
N8N_API_KEY=your-n8n-api-key-here
N8N_BASE_URL=http://localhost:5678
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin_password_change_me
N8N_USER_MANAGEMENT_JWT_SECRET=your-n8n-jwt-secret-here
N8N_WEBHOOK_URL=http://localhost:5678/
N8N_HOST=localhost

# Chatwoot Customer Support
CHATWOOT_BASE_URL=https://app.chatwoot.com
CHATWOOT_API_KEY=your-chatwoot-api-key-here

# ============================================================================
# MONITORING & ANALYTICS
# ============================================================================
# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=your-posthog-project-api-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Sentry Error Tracking
SENTRY_DSN=your-sentry-dsn-here
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn-here

# ============================================================================
# OPTIONAL SERVICES
# ============================================================================
# Clerk Authentication (alternative to Supabase Auth)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
CLERK_SECRET_KEY=your-clerk-secret-key

# UploadThing File Upload
UPLOADTHING_SECRET=your-uploadthing-secret
UPLOADTHING_APP_ID=your-uploadthing-app-id

# Stripe Payment Processing
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
# pgAdmin (PostgreSQL Management)
PGADMIN_EMAIL=admin@infraflow.ai
PGADMIN_PASSWORD=pgadmin_password_change_me

# Redis Commander is configured via docker-compose

# ============================================================================
# TIMEZONE & LOCALIZATION
# ============================================================================
TIMEZONE=UTC
DEFAULT_LANGUAGE=en

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_DOCUMENT_PROCESSING=true
ENABLE_FINANCIAL_MODELING=true
ENABLE_COMPLIANCE_CHECKING=true
ENABLE_RISK_ASSESSMENT=true
ENABLE_AI_RECOMMENDATIONS=true

# ============================================================================
# NOTES
# ============================================================================
# 1. Generate secure secrets using: openssl rand -hex 32
# 2. Never commit actual .env files to git
# 3. Update .gitignore to exclude .env files
# 4. For production, use environment-specific files:
#    - .env.production
#    - .env.staging
# 5. Rotate secrets regularly (at least every 90 days)
# 6. Store production secrets in a secure vault (AWS Secrets Manager, etc.)
# ============================================================================
